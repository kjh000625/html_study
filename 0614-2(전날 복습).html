<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>계절꽃 선택하기</title>
    <style>
        #layout {
            max-width: 650px;
            margin: auto;
            border: 5px dashed darkblue;
            text-align: center;
            padding-top: 20px;
        }
        h2 {
            width: 300px;
            background-color: antiquewhite;
            margin: auto;
            padding: 10px;
            margin-top: 20px;
        }
        #flower img {
            width: 300px;
            margin: 5px;
        }
        #flower img.big {
            width: 90%;
        }
    </style>
</head>
<body>
    <div id = "layout">
        <div>
            <button type="button">spring</button>
            <button type="button">summer</button>
            <button type="button">fall</button>
            <button type="button">winter</button>
            <button type="button">all</button>
        </div>
    <section id="flower">
        <h2>계절별 꽃들</h2>
        <!--배열 방법으로 이미지가 추가될 부분-->
    </section>
</div>
    <script>
        const $flower = document.querySelector('#flower');
        //이미지 경로를 배열에 넣어둔다.
        const imgs = ['images/spring.jpg','images/summer.jpg','images/fall.jpg','images/winter.jpg'];
        imgs.forEach (/*매개변수*/ i => {
            $flower.innerHTML += `<img src = ${i} alt='꽃'>`
        });

        //버튼을 클릭하면 해당 버튼의 index번호와 인치하는 이미지만 보여진다.
        const $imgs = document.querySelectorAll('img'); //[0,1,2,3]
        const $btns = document.querySelectorAll('button'); //[0,1,2,3,4]
        $btns.forEach ( (i,j) => { //i는 각각의 버튼요소 ,j 는 각 버튼의 인덱스 번호
            i.addEventListener('click', () =>{
                $imgs.forEach ((x,y) => {
                    if( j ==y) { //클릭한 버튼의 index와 이미지의 index가 같다면
                        x.style.display = 'inline'; //하나의 이미지가 선택된다
                        x.classList.add('big');
                    }
                    else if (j==4) { //이미지 전체가
                        x.style.display = 'inline'; //이미지 모두가 inline 된다.
                        x.classList.remove('big'); // 
                    }
                    else    x.style.display = 'none'; //if문을 통과하지 못한 나머지 이미지는 가린다.
                });
            });
        })
        //[모두보기]상태의 이미지(작은이미지)를 클릭하면 한장이 크게 보인다. (class='big')
            //크게 보이는 한장을 누르면 다시 [모두보기]상태가 된다. ('big'클래스가 지워진다)
            $imgs.forEach((item, index) => {
                $imgs[index].addEventListener('click', e => {
                    if (item.classList.contains('big')) {
                        item.classList.remove('big');
                        $imgs.forEach(img => {
                        img.style.display = 'inline';
                    });
                    } else {
                        $imgs.forEach(img => img.style.display = 'none');
                        item.style.display = "inline";
                        item.classList.add('big');
                    }
                });
            });
    </script>
</body>
</html>